{"ast":null,"code":"const getFirestore = (firebaseInstance, runningAt) => {\n  const firebaseConfig = require('./_config-object.json');\n\n  const settingsObj = {}; // Initialize Firebase instance.\n\n  if (!firebaseInstance.apps.length) {\n    const firebaseServices = firebaseInstance.initializeApp(firebaseConfig);\n    settingsObj.app = firebaseServices;\n\n    if (false) {\n      firebaseServices.analytics();\n    }\n  }\n\n  const emulatorsStart = () => {\n    const db = firebaseInstance.firestore(settingsObj.app);\n    db.settings({\n      host: 'localhost:8080',\n      ssl: false\n    });\n    return db;\n  };\n\n  if (runningAt === 'localhost') {\n    const emulatedFirestore = emulatorsStart();\n    settingsObj.firestore = emulatedFirestore;\n  } else {\n    settingsObj.firestore = firebaseInstance.firestore(settingsObj.app);\n  }\n\n  const database = settingsObj.firestore;\n  return database;\n};\n\nmodule.exports = getFirestore;","map":null,"metadata":{},"sourceType":"script"}